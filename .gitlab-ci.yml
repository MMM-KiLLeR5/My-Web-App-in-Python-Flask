stages:
  - test

default:
  tags:
    - common

TestCode:
  stage: test
  before_script:
    - pip install pytest-cov
    - pip install pytest
    - pip install coverage
    - pip install pytest-junitxml
    - pip install -r src/requirements.txt
  script:
    - PYTHONPATH=src python -m pytest --cov --junitxml=test_results.xml src tests
  artifacts:
    untracked: false 
    reports:
      junit:
      - test_results.xml
