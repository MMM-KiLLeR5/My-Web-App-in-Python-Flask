# Онлайн-приложение "VRM"
## Рахимов Ворис, Камолиддинзода Мухаммадхуджа и Дадабаев Рауфджон Б05-252
Добро пожаловать в VRM, данное приложение представляет из себя онлайн-приложение, разрабатываемое на языке Python.
Это приложение поможет вам легко управлять вашим аккаунтом VRM, проверять баланс, остаток гигабайт и минут, а также обмениваться гигабайтами и минутами с другими пользователями.
## Возможности
- **Проверка и пополнение баланса**: В приложении вы можете быстро узнать текущий остаток на вашем счету.
- **Проверка остатка минут и гигабайт**: Узнайте, сколько осталось у вас интернет-трафика и минут разговора.
- **Покупка минут и гигабайтов**: Докупайте необходимое вам количество минут и гигабайт.
- **Обмен минутами и гигабайтами**: Обменивайтесь остатками гигабайт и минут с другими пользователями VRM прямо из приложения.
- **Проверка и изменение тарифа**: Сравнивайте и выберите наиболее подходящий для себя тариф.

## Архитектура нашего проекта:

![](UML-diagram-latest.png)

## Запуск проект
### У вас должен быть установлен докер!!!
### Запуск сервера для backend 
#### Перед запуском
    cd src
    docker build -t tele3_server .
    touch .env(внутри неё, сооздадите переменные окружение DATABASE_URL - ссылка на базу данных, KNOWN_HOST - какой IP вы слушаете, PORT - на каком порту вы запускаетесь)
#### Запуск. У нас есть два способа запуска.
    docker run -e DATABASE_URL=[ссылка на базу данных] KNOWN_HOST=[какой IP вы слушаете] PORT=[port] -p port:port --name tele3_server_back tele3_server
    docker run --env-file=.env -p port:port --name tele3_server_back tele3_server 
    
### Запуска сервер для frontend
#### Перед запуском
    cd frontent
    docker build -t tele3_server_front .
    touch .env(внутри неё, сооздадите переменные окружение SECRET_KEY - хэш секретного ключа, чтобы получить доступ как администратор)
#### Тоже два спопоба запуска
    docker run --env-file=.env -p port:port --name tele3_server_frontend tele3_server_front
    docker run -e SECRET_KEY=[хэш для секретного ключа] -p port:port --name tele3_server_frontend tele3_server_front



### Запуска сервер для телеграмм-бота
#### Перед запуском
    cd Telegram_bot
    docker build -t telegram_bot .
    touch .env(внутри неё, сооздадите переменные окружение TOKEN_API - токен бота, ADMINS_CHAT_ID - ID чата службы поддержки, URL_USERS_PHONE_NUMBER - api)
#### Тоже два спопоба запуска
    docker run --env-file=.env --name telegram_bot_service telegram_bot
    docker run -e TOKEN_API=[токен бота] ADMINS_CHAT_ID=[ID чата службы поддержки] URL_USERS_PHONE_NUMBER=[api]








    

### Код доступа для админов
#### secret_key = {напишем тебе в телеге}

### Новые опции добавленные в 3-ей итерации

#### Добавили телеграм бота для техподдержки**
- **Перед началом работы с ботом, мы делимся с ним нашим контактом**
- **Потом у нас есть /help с помощью которой мы узнаём какая опция за отвечает**
- **С помощью тг бота, мы можем узнать информацию о нашем профиле(про баланс, остаток гб, минут и информацию про наш тарифф)**
- **Так же если у нас проблемы можем обратиться в тех поддержку с нашим вопросом**

#### Добавили новые возможнности в веб прилажение
- **Биржа будет доступно только после авторизации**
- **Создали биржу для продажи и покупки гб и минут**
- **У вас опция продажи гб и минут, при нажатие которой вы можете указать сколько гб  и минут вы хотите продать и за сколько** 
- **Так же теперь есть вкладка биржа минут и гб, при нажатие которой вам отобразятся все гб или минуты(в зависимости в котом вы находитесь) в магазине**


# ПРЕДУПРЕЖДЕНИЕ
- **Сначало создайте аккаунт для админа и создайте один тарифф, без него вы не сможете зарегестрироваться как пользователь(так как вы будете запускать на локальной базе данных, наши созданные тариффы вам будут не доступны)!!!**

## Описание некоторых методов нашего API.

- **По этому пути мы регистрируем нашего Админа. Мы должны получить данные представленные в скриншоте**![](screenshots/admin_register.png)


- **Здесь мы вводим логин и пароль, в наш фронт получает токен для запросов**![](screenshots/admin_login.png)


- **Этот метод позволяет изменять существующий тариф. Для этого мы должны получить данные представленные на снимке. tariff_id это номер тариффа который мы хотим изменит**![](screenshots/admin_edit_tariff.png)


- **Благодаря этому методу, мы получаем список тарифов, мы получаем его виде списка словарей**![![]](screenshots/admin_get_list_of_tariff.png)

#### Регистратсия в вход для юзера такие же, поэтому рассмотрим другие методы.

- **Метод благодаря которому мы покупаем гб. `value` это сколько гб мы хотим купить**![](screenshots/user_buy_gb.png)


- **Метод для пополнение счёта. `value` это сколько мы хотим положить на счёт**![](screenshots/user_deposit.png)


- **Метод чтобы оплатить тариф. Как видите он ничего не принимает, т.к. мы проверяем его баланс и смотрим хватить ли у него денег для оплаты тарифа**![](screenshots/user_pay_tariff.png)


- **Метод для деление гб с другом. `phone_number` - номер нашего друга, `value` - это сколько мы хотим скинуть**![](screenshots/user_share_gb.png)


- **Метод для получение информации о балансе, и нашего тарифа. Когда мы нажимаем на кнопку мой профиль, нам открывается окошка, в котором мы видим сколько у нас на балансе и сколько у нас гб и минут осталось и информацию про наш тариф. Эту информацию мы получаем благодаря этому методу**![](screenshots/users_data.png)


#### Остальные методы реализованы примерно так же. Для полного ознакамление могу запустить наш сервер и скинуть ссылку на документацию с хорошим графическим дизайным.

## Как пользоваться тг ботом

- **Нажимает `Запукск` чтобы запустить бота**![](screenshots/Запуск_бота.jpg)

- **Пишем запуска бот автоматически пишет опцию `/start`(вы так же сами можете запустить эту опцию для перезапуска бота написав эту команду). Для начало работы с ботом вы должны поделится с ним своим контактом(этот номер должен совпадать с номером которым вы регистрировались, а то опцию `/info` не будет доступно)**![](screenshots/start.jpg)

- **После нажатие кнопки**![](screenshots/after_start.jpg)

- **Нажав на `Меню` вы получите доступ ко всем опциям и для  их запуска вам просто нужно будет нажать его**![](screenshots/menu.jpg)

- **Опция `/help` возвращает что делает каждая опция**![](screenshots/help.jpg)

- **Опция `/info` возвращает информацию о пользователе**![](screenshots/info.jpg)

- **С помощью этой опции `/support` мы можем получить ответ от тех поддержки. Наш вопрос `Привет` и ответ техподдержки `Добрый день`(стрелка указывает на неё)**![](screenshots/support.jpg)






